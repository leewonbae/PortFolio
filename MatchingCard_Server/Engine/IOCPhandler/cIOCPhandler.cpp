#include "cIOCPhandler.h"
cIOCPhandler::cIOCPhandler()
{

}
cIOCPhandler::~cIOCPhandler()
{

}


//--------------------------------------------------------------------------------------------------------------------------------------
//목  적 : HANDLE 생성
//작성자 : 이원배
//일  시 : 2020. 12. 01
//--------------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------------

void cIOCPhandler::InitHcp()
{
	mHCP = CreateIoCompletionPort(INVALID_HANDLE_VALUE, NULL, 0, 0);
	ShowIOCPhandleStatus("INIT IOCPHANDLER OK");
}

//--------------------------------------------------------------------------------------------------------------------------------------
//목  적 : SESSION, 클라이언트 소켓 MATCHING
//작성자 : 이원배
//일  시 : 2020. 12. 01
//--------------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------------

void cIOCPhandler::setCompletionPort(cSession* _session, SOCKET _clientsock)
{
	CreateIoCompletionPort((HANDLE)_clientsock, mHCP, (ULONG_PTR)_session, 0);
}

//--------------------------------------------------------------------------------------------------------------------------------------
//목  적 : IOCP 상태 출력
//작성자 : 이원배
//일  시 : 2020. 12. 01
//--------------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------------


void cIOCPhandler::ShowIOCPhandleStatus(const char* _msg)
{
	cout << "SHOW IOCP HANDLER STATUS = [ " << _msg << " ] " << endl;
}